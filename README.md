# Teampulse Negotiations AI - Production Ready

## üöÄ –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ñ–≤ –∑ AI

**Teampulse Negotiations AI** - —Ü–µ –ø–æ—Ç—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª—ñ–∑—É –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ñ–≤, —è–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —à—Ç—É—á–Ω–∏–π —ñ–Ω—Ç–µ–ª–µ–∫—Ç –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π, –∫–æ–≥–Ω—ñ—Ç–∏–≤–Ω–∏—Ö –≤–∏–∫—Ä–∏–≤–ª–µ–Ω—å —Ç–∞ —Å–æ—Ñ—ñ–∑–º—ñ–≤ —É –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–Ω–∏—Ö –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è—Ö.

### ‚ú® –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ü§ñ **AI-–∞–Ω–∞–ª—ñ–∑ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ñ–≤** –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ—ó –º–æ–¥–µ–ª—ñ OpenAI
- üìä **–î–µ—Ç–µ–∫—Ü—ñ—è –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π** –≤ —Ä–µ–∂–∏–º—ñ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É
- üéØ **–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó** –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø—Ä–æ—Ñ—ñ–ª—é –∫–ª—ñ—î–Ω—Ç–∞
- üìà **–ë–∞—Ä–æ–º–µ—Ç—Ä —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ** –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ñ–≤
- üîê **–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞ –±–µ–∑–ø–µ–∫–∞** –∑ rate limiting —Ç–∞ –∞—É–¥–∏—Ç–æ–º
- üìù **–ü–æ–≤–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è** –≤—Å—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π
- üèóÔ∏è **–ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è** –∑ PM2 —Ç–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—è

### üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Backend**: Node.js, Express.js, PostgreSQL
- **AI**: OpenAI API (–Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –º–æ–¥–µ–ª—å)
- **Security**: Helmet, CORS, Rate Limiting
- **Logging**: Winston –∑ —Ä–æ—Ç–∞—Ü—ñ—î—é –ª–æ–≥—ñ–≤
- **Validation**: Express-validator
- **Process Management**: PM2
- **Frontend**: Vanilla JS, Server-Sent Events

## üìã –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
git clone <repository-url>
cd "Teampulse Negotiations"
npm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ:

```bash
# OpenAI Configuration (–û–ë–û–í'–Ø–ó–ö–û–í–û)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=o4-mini
OPENAI_TEMPERATURE=0.2

# Token Management
DAILY_TOKEN_LIMIT=512000
MAX_HIGHLIGHTS_PER_1000_WORDS=12
MAX_FILE_SIZE=50mb
ALLOWED_FILE_TYPES=.txt,.docx

# Security
NODE_ENV=production
SESSION_SECRET=your_super_secure_session_secret_here

# Database
DATABASE_URL=postgresql://user:password@host:port/database

# Server Configuration  
PORT=3000
HOST=0.0.0.0

# Rate Limiting
API_RATE_LIMIT=100
ANALYSIS_RATE_LIMIT=10

# Performance
CACHE_TTL=300
DB_POOL_SIZE=10
```

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –ø–∞–ø–æ–∫

```bash
mkdir -p logs
```

## üöÄ –ó–∞–ø—É—Å–∫

### Development —Ä–µ–∂–∏–º

```bash
npm run dev
```

### Production —Ä–µ–∂–∏–º

```bash
# –ü—Ä–æ—Å—Ç–∏–π –∑–∞–ø—É—Å–∫
npm start

# –ó PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω)
npm run prod

# –ö–µ—Ä—É–≤–∞–Ω–Ω—è PM2
npm run stop      # –ó—É–ø–∏–Ω–∏—Ç–∏
npm run restart   # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
npm run logs      # –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏
```

## üîß API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- `POST /api/login` - –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /api/logout` - –í–∏—Ö—ñ–¥

### –ö–ª—ñ—î–Ω—Ç–∏
- `GET /api/clients` - –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤
- `GET /api/clients/:id` - –î–µ—Ç–∞–ª—ñ –∫–ª—ñ—î–Ω—Ç–∞
- `POST /api/clients` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞
- `PUT /api/clients/:id` - –û–Ω–æ–≤–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞
- `DELETE /api/clients/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç–∞

### –ê–Ω–∞–ª—ñ–∑
- `POST /api/analyze` - –ü—Ä–æ–≤–µ—Å—Ç–∏ –∞–Ω–∞–ª—ñ–∑ —Ç–µ–∫—Å—Ç—É (SSE stream)
- `GET /api/clients/:id/analysis/:analysisId` - –û—Ç—Ä–∏–º–∞—Ç–∏ –∞–Ω–∞–ª—ñ–∑
- `DELETE /api/clients/:id/analysis/:analysisId` - –í–∏–¥–∞–ª–∏—Ç–∏ –∞–Ω–∞–ª—ñ–∑

### –ü–æ—Ä–∞–¥–∏
- `POST /api/advice` - –û—Ç—Ä–∏–º–∞—Ç–∏ AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –°–∏—Å—Ç–µ–º–Ω—ñ
- `GET /health` - –°—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏
- `GET /api/usage` - –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤

## üîí –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å (–í–ò–ü–†–ê–í–õ–ï–ù–û)

### –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞—Ö–æ–¥–∏ –±–µ–∑–ø–µ–∫–∏:

1. **Helmet.js** - –ë–µ–∑–ø–µ—á–Ω—ñ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
2. **CORS** - –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –º—ñ–∂ –¥–æ–º–µ–Ω–∞–º–∏
3. **Rate Limiting** - –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ DDoS –∞—Ç–∞–∫
4. **Input Validation** - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
5. **SQL Injection Protection** - Parametrized queries
6. **Security Logging** - –ê—É–¥–∏—Ç –≤—Å—ñ—Ö –ø–æ–¥—ñ–π –±–µ–∑–ø–µ–∫–∏
7. **Content Security Policy** - –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ XSS
8. **File Upload Validation** - –ë–µ–∑–ø–µ—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
9. **üÜï Circuit Breaker** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–±–æ—ó–≤ AI API
10. **üÜï Retry Logic** - –ü–æ–≤—Ç–æ—Ä–Ω—ñ —Å–ø—Ä–æ–±–∏ –¥–ª—è network –ø–æ–º–∏–ª–æ–∫
11. **üÜï Enhanced Error Handling** - –î–µ—Ç–∞–ª—å–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –ø–æ–º–∏–ª–æ–∫
12. **üÜï Railway Health Checks** - –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –¥–ª—è deployment platforms

### Rate Limits:
- API –∑–∞–ø–∏—Ç–∏: 100/15—Ö–≤ –Ω–∞ IP
- –ê–Ω–∞–ª—ñ–∑: 10/–≥–æ–¥–∏–Ω—É –Ω–∞ IP  
- –õ–æ–≥—ñ–Ω: 5/15—Ö–≤ –Ω–∞ IP

### üõ†Ô∏è –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—é:

- ‚ùå **–ü–æ–º–∏–ª–∫–∏ 503** –ø—Ä–∏ –∞–Ω–∞–ª—ñ–∑—ñ - –í–ò–ü–†–ê–í–õ–ï–ù–û ‚úÖ
- ‚ùå **Timeout –±–µ–∑ fallback** - –í–ò–ü–†–ê–í–õ–ï–ù–û ‚úÖ  
- ‚ùå **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å retry logic** - –í–ò–ü–†–ê–í–õ–ï–ù–û ‚úÖ
- ‚ùå **Circuit breaker –¥–ª—è AI API** - –î–û–î–ê–ù–û ‚úÖ
- ‚ùå **Railway health checks** - –î–û–î–ê–ù–û ‚úÖ

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥—ñ–≤:
- `logs/combined.log` - –í—Å—ñ –ª–æ–≥–∏
- `logs/error.log` - –¢—ñ–ª—å–∫–∏ –ø–æ–º–∏–ª–∫–∏
- `logs/api.log` - API –∑–∞–ø–∏—Ç–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:
- –ß–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ API
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–º–∏–ª–æ–∫
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ

## üéØ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞

```javascript
const client = {
  company: "Apple Inc.",
  negotiator: "John Smith",
  sector: "IT",
  goal: "Partnership agreement",
  deal_value: "$1,000,000",
  company_size: "large"
};

fetch('/api/clients', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify(client)
});
```

### 2. –ê–Ω–∞–ª—ñ–∑ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ñ–≤

```javascript
const formData = new FormData();
formData.append('text', '–¢–µ–∫—Å—Ç –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ñ–≤...');
formData.append('client_id', '1');

const eventSource = new EventSource('/api/analyze');
eventSource.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log('Analysis result:', data);
};
```

## üè≠ Production Deployment

### –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏:
- Node.js 18+ 
- RAM: –º—ñ–Ω—ñ–º—É–º 512MB, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ 2GB+
- –î–∏—Å–∫: –º—ñ–Ω—ñ–º—É–º 1GB –≤—ñ–ª—å–Ω–æ–≥–æ –º—ñ—Å—Ü—è
- OS: Linux/macOS/Windows

### Docker –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç:

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3000
CMD ["npm", "start"]
```

### Nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è:

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## üìà –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è

### PM2 Cluster Mode:
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤—Å—ñ —è–¥—Ä–∞ –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º—ñ.

### Load Balancing:
–ú–æ–∂–Ω–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –∫—ñ–ª—å–∫–∞ —ñ–Ω—Å—Ç–∞–Ω—Å—ñ–≤ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø–æ—Ä—Ç–∞–º–∏ —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Nginx –¥–ª—è –±–∞–ª–∞–Ω—Å—É–≤–∞–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# Health Check
curl http://localhost:3000/health

# Load Test
npm run test

# API Test
curl -X POST http://localhost:3000/api/login \\
  -H "Content-Type: application/json" \\
  -d '{"username":"janeDVDops","password":"jane2210"}'
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

- **–ê–≤—Ç–æ—Ä**: Teampulse Negotiations AI
- **–í–µ—Ä—Å—ñ—è**: 3.0 Production
- **–õ—ñ—Ü–µ–Ω–∑—ñ—è**: MIT

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è

–î–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏:

```bash
git pull origin main
npm install
npm run restart
```

---

**‚ö° Teampulse Negotiations AI - –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª—ñ–∑—É –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ñ–≤**

*–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –ø—Ä–æ–º–∏—Å–ª–æ–≤–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ –º–æ–∂–µ –æ–±—Ä–æ–±–ª—è—Ç–∏ —Ç–∏—Å—è—á—ñ –∞–Ω–∞–ª—ñ–∑—ñ–≤ —â–æ–¥–Ω—è –∑ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ—é –±–µ–∑–ø–µ–∫–æ—é —Ç–∞ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—é.*
